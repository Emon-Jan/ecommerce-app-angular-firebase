<h1>
  Shopping Cart
</h1>
<ng-container *ngIf="cart$ | async as cart">
  <p>
    Your shopping cart has {{ cart.totalItemsCount }} items
    <button
      class="btn btn-outline-danger btn-sm"
      *ngIf="cart.totalItemsCount"
      (click)="removeCartItems()"
    >
      Clear Cart
    </button>
  </p>
  <div class="row">
    <div class="col-md-8">
      <table class="table" *ngIf="cart.totalItemsCount">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Quantity</th>
            <th scope="col">Price</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of cart.items">
            <td>
              <div
                [style.backgroundImage]="'url(' + item.imageUrl + ')'"
                class="thumbnail"
              ></div>
            </td>
            <td>
              {{ item.title }}
            </td>
            <td>
              <app-product-quantity [product]="item" [shopping-cart]="cart">
              </app-product-quantity>
            </td>
            <td>{{ item.totalPrice | currency: "BDT":"symbol-narrow" }}</td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th>Total</th>
            <th></th>
            <th></th>
            <th>
              {{ cart.totalItemsPrice | currency: "BDT":"symbol-narrow" }}
            </th>
          </tr>
        </tfoot>
      </table>
      <a
        class="btn btn-primary btn-sm"
        *ngIf="cart.totalItemsCount"
        [routerLink]="['/check-out']"
      >
        Check Out
      </a>
    </div>
    <div class="col-md-4"></div>
  </div>
</ng-container>
